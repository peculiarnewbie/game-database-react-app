(this["webpackJsonpreact-tut"]=this["webpackJsonpreact-tut"]||[]).push([[0],{33:function(e,n,t){"use strict";t.r(n);var a,r,c,i,s=t(0),o=t.n(s),u=t(16),d=t.n(u),b=t(12),p=t(2),m=t.p+"static/media/gamz-white.b6196241.png",h=t.p+"static/media/Logo-white.4f83fbf8.png",j=t(3),f=t(4),l=f.b.div(a||(a=Object(j.a)(["\n    position: -webkit-sticky; /* Safari */\n    position: sticky;\n    top: 0;\n    background: var(--darkGrey);\n    padding: 0 20px;\n    z-index:200;\n"]))),x=f.b.div(r||(r=Object(j.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    max-width: var(--maxWidth);\n    padding: 20px 0;\n    margin: 0 auto;\n"]))),g=f.b.img(c||(c=Object(j.a)(["\n    width: 150px;\n\n    @media screen and (max-width: 500px){\n        width: 100px\n    }\n"]))),v=f.b.img(i||(i=Object(j.a)(["\n    width: 80px;\n\n    @media screen and (max-width: 500px){\n        width: 50px\n    }\n"]))),O=t(1);var w,y,k,_,S,G,T,z,E,I,A,C,P,R,N=function(){return Object(O.jsx)(l,{children:Object(O.jsxs)(x,{children:[Object(O.jsx)("a",{href:"",children:Object(O.jsx)(g,{src:m,alt:"site-logo"})}),Object(O.jsx)("a",{href:"peculiarnewbie.github.io",target:"_blank",children:Object(O.jsx)(v,{src:h,alt:"tmdb-logo"})})]})})},B="https://api.themoviedb.org/3/",F=Object({NODE_ENV:"production",PUBLIC_URL:"/game-database-react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORIZATION:"1u19ccam31l7cu7cz08yuz3ip89wq5",REACT_APP_CLIENT_ID:"x0muvk9gdif8w2reu3bkf5y0k1xrsu"}).REACT_APP_API_KEY,H="".concat(B,"search/movie?api_key=").concat(F,"&language=en-US&query="),W="".concat(B,"movie/popular?api_key=").concat(F,"&language=en-US"),L="".concat(B,"authentication/token/new?api_key=").concat(F),q="".concat(B,"authentication/token/validate_with_login?api_key=").concat(F),D="".concat(B,"authentication/session/new?api_key=").concat(F),J=f.b.div(w||(w=Object(j.a)(["\n    background: linear-gradient(\n        to bottom, \n        rgba(0, 0, 0, 0) 41%, \n        rgba(0, 0, 0, 0.65) 100%\n    ),\n        url(","), var(--darkGrey);\n    background-size: 100%, cover;\n    background-position: center;\n    height: 600px;\n    position: relative;\n    animation: animateHeroImage 1s;\n\n    @keyframes animateHeroImage {\n        from {\n            opacity: 0;\n        }\n        to{\n            opacity: 1;\n        }\n    }\n\n    ","\n"])),(function(e){return e.image}),(function(e){return e.isSearch&&"\n    height: 300px\n  "})),U=f.b.div(y||(y=Object(j.a)(["\n    padding: 20px;\n    max-width: var(--maxWidth);\n    margin: 0 auto;\n"]))),K=f.b.div(k||(k=Object(j.a)(["\n    z-index: 100;\n    max-width: 700px;\n    position: absolute;\n    bottom: 40px;\n    margin-right: 20px;\n    min-height: 100px;\n    color: var(--white);\n\n    h1{\n        font-size: var(--fontVeryBig);\n\n        @media screen and (max-width: 720px){\n            font-size: var(--fontBig);\n        }\n    }\n\n    p {\n        font-size: var(--fontMed);\n\n        @media screen and (max-width: 720px){\n            font-size: var(--fontSmall);\n        }\n    }\n\n    @media screen and (max-width: 720px){\n        max-width: 100%;\n    }\n"]))),M=function(e){var n=e.isSearch,t=e.image,a=e.title,r=e.text;return Object(O.jsx)(J,{image:t,isSearch:n,children:Object(O.jsx)(U,{children:Object(O.jsxs)(K,{children:[Object(O.jsx)("h1",{children:a}),Object(O.jsx)("p",{children:r})]})})})},V=f.b.div(_||(_=Object(j.a)(["\n    max-width: var(--maxWidth);\n    margin: 0 auto;\n    padding: 0 20px;\n\n    h1 {\n        color: var(--medGrey);\n\n        @media screen and (max-width: 768px) {\n            font-size: car(--fontBig);\n        }\n    }\n"]))),Y=f.b.div(S||(S=Object(j.a)(["\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n    grid-row-gap: 0.1rem;\n    grid-column-gap: 1.5rem;\n    align-items: flex-start;\n"]))),Z=function(e){var n=e.header,t=e.children;return Object(O.jsxs)(V,{children:[Object(O.jsx)("h1",{children:n}),Object(O.jsx)(Y,{children:t})]})},Q=f.b.div(G||(G=Object(j.a)(["\n    //background: var(--darkGrey);    \n    padding: 10px 0px;\n    overflow: hidden;\n    max-height: 100%;\n"]))),X=f.b.div(T||(T=Object(j.a)(["\n    //background: var(--medGrey); \n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 0 10px;\n"]))),$=f.b.img(z||(z=Object(j.a)(["\n    max-width: 720px;\n    transition: all 0.3s;\n    border-radius: 5px;\n    object-fit: cover;\n    animation: animateThumb 0.5s;\n    width:100%;\n    margin:auto;\n\n    :hover {\n        width: 105%;\n        opacity:  0.8;\n    }\n\n    @keyframes animateThumb{\n        from{\n            opacity:  0;\n        }\n        to{\n            opacity: 1;\n        }\n    }\n"]))),ee=f.b.div(E||(E=Object(j.a)(["\n    position:relative;\n    top:0px;\n    color: var(--black);\n    margin: 0 10px;\n"]))),ne=(f.b.div(I||(I=Object(j.a)(["\n    position:absolute;\n    bottom:0px;\n    color: var(--black);\n    margin: 0 10px;\n"]))),f.b.div(A||(A=Object(j.a)(["\n    height:10px;\n"]))),function(e){var n=e.image,t=e.title,a=(e.gameId,e.gameLink),r=e.clickable;return Object(O.jsx)(Q,{children:r?Object(O.jsxs)("a",{href:null===a||void 0===a?void 0:a.url,target:"_blank",children:[Object(O.jsx)(X,{children:Object(O.jsx)($,{src:n,alt:"movie-thumb"})}),Object(O.jsx)(ee,{children:t})]}):Object(O.jsx)(X,{children:Object(O.jsx)($,{src:n,alt:"movie-thumb"})})})}),te=f.b.div(C||(C=Object(j.a)(["\n    border: 5px solid var(--lightGrey);\n    border-top: 5px solid var(--medGrey);\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n    animation: spin 0.8s linear infinite;\n    margin: 20px auto;\n\n    @keyframes spin{\n        0% {\n            transform: rotate(0deg);\n        }\n        100% {\n            transform: rotate(360deg);\n        }\n    }\n\n"]))),ae=t(6),re=t.p+"static/media/search-icon.bb4c697f.svg",ce=f.b.div(P||(P=Object(j.a)(["\n    display: flex;\n    align-items: center;\n    height: 100px;\n    background: var(--darkGrey);\n    padding: 0 20px;\n"]))),ie=f.b.div(R||(R=Object(j.a)(["\n    position: relative;\n    max-width: var(--maxWidth);\n    width: 100%;\n    height: 55px;\n    background: var(--medGrey);\n    margin: 0 auto;\n    border-radius: 40px;\n    color: var(--white);\n\n    img {\n        position: absolute;\n        left: 15px;\n        top: 14px;\n        width: 30px;\n    }\n\n    input {\n        font-size: 28px;\n        position: absolute;\n        left: 0;\n        margin: 8px 0;\n        padding: 0 0 0 60px;\n        border: 0;\n        width: 95%;\n        background: transparent;\n        height: 40px;\n        color: var(--white);\n\n        :focus{\n            outline: none;\n        }\n    }\n"]))),se=function(e){var n=e.setSearchTerm,t=Object(s.useState)(""),a=Object(ae.a)(t,2),r=a[0],c=a[1],i=Object(s.useRef)(!0);return Object(s.useEffect)((function(){if(!i.current){var e=setTimeout((function(){n(r)}),500);return function(){return clearTimeout(e)}}i.current=!1}),[n,r]),Object(O.jsx)(ce,{children:Object(O.jsxs)(ie,{children:[Object(O.jsx)("img",{src:re,alt:"search-icon"}),Object(O.jsx)("input",{type:"text",placeholder:"Search Game",onChange:function(e){return c(e.currentTarget.value)},value:r})]})})},oe=t(5),ue=t.n(oe),de=t(10),be=t(8),pe=t(7),me={method:"POST",headers:{"Content-Type":"application/json"}},he=(function(){var e=Object(pe.a)(ue.a.mark((function e(n,t){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?"".concat(H).concat(n,"&page=").concat(t):"".concat(W,"&page=").concat(t),e.next=3,fetch(a);case 3:return e.next=5,e.sent.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(pe.a)(ue.a.mark((function e(n){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(B,"movie/").concat(n,"?api_key=").concat(F),e.next=3,fetch(t);case 3:return e.next=5,e.sent.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(pe.a)(ue.a.mark((function e(n){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(B,"movie/").concat(n,"/credits?api_key=").concat(F),e.next=3,fetch(t);case 3:return e.next=5,e.sent.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(pe.a)(ue.a.mark((function e(){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(L);case 2:return e.next=4,e.sent.json();case 4:return n=e.sent,e.abrupt("return",n.request_token);case 6:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(pe.a)(ue.a.mark((function e(n,t,a){var r,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={username:t,password:a,request_token:n},e.next=3,fetch(q,Object(be.a)(Object(be.a)({},me),{},{body:JSON.stringify(r)}));case 3:return e.next=5,e.sent.json();case 5:if(!e.sent.success){e.next=13;break}return e.next=9,fetch(D,Object(be.a)(Object(be.a)({},me),{},{body:JSON.stringify({request_token:n})}));case 9:return e.next=11,e.sent.json();case 11:return c=e.sent,e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(pe.a)(ue.a.mark((function e(n,t,a){var r,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(B,"movie/").concat(t,"/rating?api_key=").concat(F,"&session_id=").concat(n),e.next=3,fetch(r,Object(be.a)(Object(be.a)({},me),{},{body:JSON.stringify({value:a})}));case 3:return e.next=5,e.sent.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))}(),t.p+"static/media/no_image.22d2aa4d.jpg");var je,fe="https://fierce-ocean-46816.herokuapp.com/https://api.igdb.com/v4/games/",le="https://images.igdb.com/igdb/image/upload/t_720p/",xe=f.b.div(je||(je=Object(j.a)(["\n\n"]))),ge=function(e){var n=e.text,t=e.callback;return Object(O.jsx)(xe,{type:"button",onClick:t,children:n})},ve=(t(30),new Headers);ve.append("Client-ID","".concat("x0muvk9gdif8w2reu3bkf5y0k1xrsu")),ve.append("Authorization","Bearer ".concat("1u19ccam31l7cu7cz08yuz3ip89wq5")),ve.append("Content-Type","text/plain");var Oe={method:"POST",headers:ve,body:"fields name, cover.image_id; sort rating desc",redirect:"follow"},we={fetchGames:function(){var e=Object(pe.a)(ue.a.mark((function e(n){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n?'search "'.concat(n,'"; fields name, cover.image_id, websites.url, websites.category; where category = 0 & rating_count > 5; limit 200;'):"fields name, cover.image_id, websites.url, websites.category; sort rating desc; where first_release_date > 1609434000 & rating_count > 1 & aggregated_rating_count > 2; limit 50;",Oe.body=t,e.next=4,fetch(fe,Oe);case 4:return e.next=6,e.sent.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),fetchFirstGame:function(){var e=Object(pe.a)(ue.a.mark((function e(n){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="fields name, summary, cover.image_id, artworks.image_id, screenshots.image_id; where id = ".concat(n,";"),Oe.body=t,e.next=4,fetch(fe,Oe);case 4:return e.next=6,e.sent.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},ye=we,ke={page:0,results:[],firstGame:[],firstGameId:0,firstGameName:"",firstGameSummary:"",heroImage:"",total_pages:0,total_results:0};var _e,Se=function(){var e=function(){var e=Object(s.useState)(""),n=Object(ae.a)(e,2),t=n[0],a=n[1],r=Object(s.useState)(ke),c=Object(ae.a)(r,2),i=c[0],o=c[1],u=Object(s.useState)(!1),d=Object(ae.a)(u,2),b=d[0],p=d[1],m=Object(s.useState)(!1),h=Object(ae.a)(m,2),j=h[0],f=h[1],l=function(){var e=Object(pe.a)(ue.a.mark((function e(n){var t,a,r,c=arguments;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:"",e.prev=1,f(!1),p(!0),e.next=6,ye.fetchGames(t);case 6:return a=e.sent,e.next=9,ye.fetchFirstGame(a[0].id);case 9:r=e.sent,o((function(e){return Object(be.a)(Object(be.a)({},a),{},{results:n>1?[].concat(Object(de.a)(e.results),Object(de.a)(a)):Object(de.a)(a),firstGame:Object(de.a)(r)})})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),f(!0);case 16:p(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){o(ke),l(1,t)}),[t]),{state:i,loading:b,error:j,searchTerm:t,setSearchTerm:a}}(),n=e.state,t=e.loading,a=(e.error,e.searchTerm),r=e.setSearchTerm;return console.log(n),Object(O.jsxs)(O.Fragment,{children:[n.firstGame[0]?Object(O.jsx)(M,{isSearch:!!a,image:n.firstGame[0].artworks?le+n.firstGame[0].artworks[0].image_id+".jpg":n.firstGame[0].screenshots?le+n.firstGame[0].screenshots[0].image_id+".jpg":he,title:n.firstGame[0].name,text:n.firstGame[0].summary}):null,Object(O.jsx)(se,{setSearchTerm:r}),Object(O.jsxs)(Z,{header:a?"Search Result":"Highest Rated 2021 Games",children:[n.results.map((function(e){return Object(O.jsx)(ne,{clickable:!0,image:e.cover?le+e.cover.image_id+".jpg":he,gameId:e.id,gameLink:e.websites.find((function(e){return 1===e.category})),title:e.name},e.id)})),console.log(n.results)]}),t&&Object(O.jsx)(te,{}),n.page<n.total_pages&&!t&&Object(O.jsx)(ge,{text:"Load More"})]})},Ge=function(){var e=function(e){var n=Object(s.useState)({}),t=Object(ae.a)(n,2),a=t[0],r=t[1],c=Object(s.useState)(!0),i=Object(ae.a)(c,2),o=i[0],u=i[1],d=Object(s.useState)(!1),b=Object(ae.a)(d,2),p=b[0],m=b[1];return Object(s.useEffect)((function(){var n=function(){var n=Object(pe.a)(ue.a.mark((function n(){var t;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u(!0),m(!1),n.next=5,ye.fetchFirstGame(e);case 5:t=n.sent,r(Object(be.a)({},t)),u(!1),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),m(!0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();n()}),[e]),{state:a,loading:o,error:p}}(Object(p.h)().gameId),n=e.state;e.loading,e.error;return console.log(n),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{children:"Game"})})},Te=function(){return Object(O.jsx)("div",{children:"NotFound"})},ze=Object(f.a)(_e||(_e=Object(j.a)(["\n :root { \n     --maxWidth: 1280px;\n     --white: #fff;\n     --black: #000;\n     --lightGrey: #eee;\n     --medGrey: #353535;\n     --darkGrey: #1c1c1c;\n     --fontVeryBig: 2.5rem;\n     --fontBig: 1.5rem;\n     --fontMed: 1.2rem;\n     --fontSmall: 1rem;\n }\n\n *{\n     box-sizing: border-box;\n     font-family: 'Abel', sans-serif;\n }\n\n body {\n     margin: 0;\n     padding: 0;\n\n     h1 {\n         font-size: 2rem;\n         font-weight: 600;\n         color: var(--white);\n     }\n\n     h3 {\n         font-size: 1.1rem;\n         font-weight: 600;\n     }\n\n     p {\n         font-size: 1rem;\n         color: var(--white);\n     }\n }\n\n"]))),Ee=function(){return Object(O.jsxs)(b.a,{children:[Object(O.jsx)(N,{}),Object(O.jsxs)(p.c,{children:[Object(O.jsx)(p.a,{path:"/game-database-react-app",element:Object(O.jsx)(Se,{})}),Object(O.jsx)(p.a,{path:"/game-database-react-app/:gameId",element:Object(O.jsx)(Ge,{})}),Object(O.jsx)(p.a,{path:"/game-database-react-app/*",element:Object(O.jsx)(Te,{})})]}),Object(O.jsx)(ze,{})]})};d.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(Ee,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.8656f5fb.chunk.js.map